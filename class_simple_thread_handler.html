<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Entropy Piano Tuner: SimpleThreadHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Entropy Piano Tuner<span id="projectnumber">&#160;1.1.2  (documentation not yet complete)</span>
   </div>
   <div id="projectbrief">An open-source experimental software for piano tuning by entropy minimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_simple_thread_handler.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_simple_thread_handler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SimpleThreadHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Simple thread handler.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for SimpleThreadHandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_simple_thread_handler__inherit__graph.png" border="0" usemap="#a_simple_thread_handler_inherit__map" alt="Inheritance graph"/></div>
<map name="a_simple_thread_handler_inherit__map" id="a_simple_thread_handler_inherit__map">
<area shape="rect" title="Simple thread handler." alt="" coords="425,5,587,31"/>
<area shape="rect" href="class_algorithm.html" title="The Algorithm class is a basic abstract class for any tuning algorithm." alt="" coords="265,79,352,104"/>
<area shape="poly" title=" " alt="" coords="462,38,342,81,340,76,461,33"/>
<area shape="rect" href="class_key_recognizer.html" title="Module for fast recognition of the pressed key." alt="" coords="376,79,495,104"/>
<area shape="poly" title=" " alt="" coords="487,43,449,80,445,77,483,39"/>
<area shape="rect" href="class_signal_analyzer.html" title="Signal analyzer: Fourier transformation of the recorded audio signal." alt="" coords="519,79,637,104"/>
<area shape="poly" title=" " alt="" coords="530,39,568,77,564,80,526,43"/>
<area shape="rect" href="class_waveform_generator.html" title="The WaveformGenerator class." alt="" coords="661,79,815,104"/>
<area shape="poly" title=" " alt="" coords="557,32,701,76,700,81,555,37"/>
<area shape="rect" href="class_entropy_minimizer.html" title="Namespace for all entropy minimizer components." alt="" coords="5,152,143,177"/>
<area shape="poly" title=" " alt="" coords="259,110,113,154,111,149,257,105"/>
<area shape="rect" href="class_example_algorithm.html" title="Basic class to show how to implement own algorithms." alt="" coords="167,152,309,177"/>
<area shape="poly" title=" " alt="" coords="289,116,251,154,248,150,285,112"/>
<area shape="rect" href="class_pitch_raise.html" title="Basic class to show how to implement own algorithms." alt="" coords="334,152,425,177"/>
<area shape="poly" title=" " alt="" coords="332,112,370,150,366,154,328,116"/>
<area shape="rect" href="class_reset_to_recording.html" title="Algorithm to copy the recorded pitches into the tuning curve." alt="" coords="449,152,587,177"/>
<area shape="poly" title=" " alt="" coords="356,106,485,149,483,154,355,111"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adf03b5bcd756890c4af918cca4a3ae4c" id="r_adf03b5bcd756890c4af918cca4a3ae4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf03b5bcd756890c4af918cca4a3ae4c">SimpleThreadHandler</a> ()</td></tr>
<tr class="separator:adf03b5bcd756890c4af918cca4a3ae4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade953295b93ef40e110fb82e0f2a84c7" id="r_ade953295b93ef40e110fb82e0f2a84c7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade953295b93ef40e110fb82e0f2a84c7">~SimpleThreadHandler</a> ()</td></tr>
<tr class="memdesc:ade953295b93ef40e110fb82e0f2a84c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor waits for the current thread to stop if it is running.  <br /></td></tr>
<tr class="separator:ade953295b93ef40e110fb82e0f2a84c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd459deb405647c580000490aaa71a0d" id="r_acd459deb405647c580000490aaa71a0d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd459deb405647c580000490aaa71a0d">start</a> ()</td></tr>
<tr class="separator:acd459deb405647c580000490aaa71a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7f6061a6b567b59ca9847180544d70" id="r_a9c7f6061a6b567b59ca9847180544d70"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c7f6061a6b567b59ca9847180544d70">stop</a> ()</td></tr>
<tr class="separator:a9c7f6061a6b567b59ca9847180544d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2b9a9567f74a046f9a76ff974ca3fa5e" id="r_a2b9a9567f74a046f9a76ff974ca3fa5e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b9a9567f74a046f9a76ff974ca3fa5e">setThreadName</a> (std::string s)</td></tr>
<tr class="separator:a2b9a9567f74a046f9a76ff974ca3fa5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac8e798b146647cf3fae4ca1e13c05e44" id="r_ac8e798b146647cf3fae4ca1e13c05e44"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44">workerFunction</a> ()=0</td></tr>
<tr class="memdesc:ac8e798b146647cf3fae4ca1e13c05e44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual worker function, executed within the new thread.  <br /></td></tr>
<tr class="separator:ac8e798b146647cf3fae4ca1e13c05e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773070afe77138730078e87096784f1b" id="r_a773070afe77138730078e87096784f1b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a773070afe77138730078e87096784f1b">exceptionCaught</a> (const <a class="el" href="class_ept_exception.html">EptException</a> &amp;e)</td></tr>
<tr class="separator:a773070afe77138730078e87096784f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3190fa086d45d5325bbffabf0be5097" id="r_ae3190fa086d45d5325bbffabf0be5097"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3190fa086d45d5325bbffabf0be5097">setCancelThread</a> (bool b)</td></tr>
<tr class="memdesc:ae3190fa086d45d5325bbffabf0be5097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a thread for termination.  <br /></td></tr>
<tr class="separator:ae3190fa086d45d5325bbffabf0be5097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717c9c2053e0b6c38a75acc619132b9c" id="r_a717c9c2053e0b6c38a75acc619132b9c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a717c9c2053e0b6c38a75acc619132b9c">cancelThread</a> () const</td></tr>
<tr class="memdesc:a717c9c2053e0b6c38a75acc619132b9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out whether a thread has been registered for termination.  <br /></td></tr>
<tr class="separator:a717c9c2053e0b6c38a75acc619132b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e798c941ef6b6cc223c155334c59542" id="r_a1e798c941ef6b6cc223c155334c59542"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e798c941ef6b6cc223c155334c59542">msleep</a> (double milliseconds)</td></tr>
<tr class="separator:a1e798c941ef6b6cc223c155334c59542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa264337db95c2348e4396ccbce713ff8" id="r_aa264337db95c2348e4396ccbce713ff8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa264337db95c2348e4396ccbce713ff8">isThreadRunning</a> () const</td></tr>
<tr class="separator:aa264337db95c2348e4396ccbce713ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0832e65ca495778cf58dd039985fb69c" id="r_a0832e65ca495778cf58dd039985fb69c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0832e65ca495778cf58dd039985fb69c">simpleWorkerFunction</a> ()</td></tr>
<tr class="separator:a0832e65ca495778cf58dd039985fb69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa2a57769e47b8ed8d5df7077de07fb62" id="r_aa2a57769e47b8ed8d5df7077de07fb62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2a57769e47b8ed8d5df7077de07fb62">mCancelThread</a></td></tr>
<tr class="memdesc:aa2a57769e47b8ed8d5df7077de07fb62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel flag.  <br /></td></tr>
<tr class="separator:aa2a57769e47b8ed8d5df7077de07fb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6404556ea044b2bfbc616a195954ee" id="r_a6d6404556ea044b2bfbc616a195954ee"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d6404556ea044b2bfbc616a195954ee">mRunning</a></td></tr>
<tr class="memdesc:a6d6404556ea044b2bfbc616a195954ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the thread running.  <br /></td></tr>
<tr class="separator:a6d6404556ea044b2bfbc616a195954ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66069bbfd946f6ab416d08a1f2ef41f6" id="r_a66069bbfd946f6ab416d08a1f2ef41f6"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66069bbfd946f6ab416d08a1f2ef41f6">mThread</a></td></tr>
<tr class="memdesc:a66069bbfd946f6ab416d08a1f2ef41f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local thread member variable.  <br /></td></tr>
<tr class="separator:a66069bbfd946f6ab416d08a1f2ef41f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5834bdbffe53d46f56ad7ce8e6823af" id="r_ab5834bdbffe53d46f56ad7ce8e6823af"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5834bdbffe53d46f56ad7ce8e6823af">mLockMutex</a></td></tr>
<tr class="memdesc:ab5834bdbffe53d46f56ad7ce8e6823af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex protecting the cancel flag.  <br /></td></tr>
<tr class="separator:ab5834bdbffe53d46f56ad7ce8e6823af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple thread handler. </p>
<p>This class simplifies the handling of C11 threads.</p>
<p><b>Usage:</b> The class creating the thread has to be derived from <a class="el" href="class_simple_thread_handler.html" title="Simple thread handler.">SimpleThreadHandler</a> and to overload the pure virtual <a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread.">workerFunction()</a> with the code to be executed within the thread. The worker function should either return by itself or when <a class="el" href="#a717c9c2053e0b6c38a75acc619132b9c" title="Find out whether a thread has been registered for termination.">cancelThread()</a> becomes true. This means that the <a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread.">workerFunction()</a> usually contains a while(not cancelThread()) loop.</p>
<p>The thread is started by calling <a class="el" href="#acd459deb405647c580000490aaa71a0d">start()</a>. By calling <a class="el" href="#a9c7f6061a6b567b59ca9847180544d70">stop()</a> the cancel flag is set and the thread will terminate after some time depending on the implementation of the <a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread.">workerFunction()</a>. For keeping the thread idle in the <a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread.">workerFunction()</a> call the member function <a class="el" href="#a1e798c941ef6b6cc223c155334c59542">msleep()</a>. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00057">57</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adf03b5bcd756890c4af918cca4a3ae4c" name="adf03b5bcd756890c4af918cca4a3ae4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf03b5bcd756890c4af918cca4a3ae4c">&#9670;&#160;</a></span>SimpleThreadHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimpleThreadHandler::SimpleThreadHandler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constructor sets the cancel-thread flag to false. It does not yet start the thread. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8cpp_source.html#l00022">22</a> of file <a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a>.</p>

</div>
</div>
<a id="ade953295b93ef40e110fb82e0f2a84c7" name="ade953295b93ef40e110fb82e0f2a84c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade953295b93ef40e110fb82e0f2a84c7">&#9670;&#160;</a></span>~SimpleThreadHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimpleThreadHandler::~SimpleThreadHandler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor waits for the current thread to stop if it is running. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8cpp_source.html#l00027">27</a> of file <a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a>.</p>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_simple_thread_handler_ade953295b93ef40e110fb82e0f2a84c7_cgraph.png" border="0" usemap="#aclass_simple_thread_handler_ade953295b93ef40e110fb82e0f2a84c7_cgraph" alt=""/></div>
<map name="aclass_simple_thread_handler_ade953295b93ef40e110fb82e0f2a84c7_cgraph" id="aclass_simple_thread_handler_ade953295b93ef40e110fb82e0f2a84c7_cgraph">
<area shape="rect" title="The destructor waits for the current thread to stop if it is running." alt="" coords="5,5,188,45"/>
<area shape="rect" href="class_simple_thread_handler.html#a9c7f6061a6b567b59ca9847180544d70" title=" " alt="" coords="236,5,399,45"/>
<area shape="poly" title=" " alt="" coords="189,23,222,23,222,28,189,28"/>
<area shape="rect" href="class_simple_thread_handler.html#ae3190fa086d45d5325bbffabf0be5097" title="Register a thread for termination." alt="" coords="447,5,609,45"/>
<area shape="poly" title=" " alt="" coords="399,23,433,23,433,28,399,28"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a717c9c2053e0b6c38a75acc619132b9c" name="a717c9c2053e0b6c38a75acc619132b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717c9c2053e0b6c38a75acc619132b9c">&#9670;&#160;</a></span>cancelThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SimpleThreadHandler::cancelThread </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find out whether a thread has been registered for termination. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00148">148</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a773070afe77138730078e87096784f1b" name="a773070afe77138730078e87096784f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773070afe77138730078e87096784f1b">&#9670;&#160;</a></span>exceptionCaught()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SimpleThreadHandler::exceptionCaught </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_ept_exception.html">EptException</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>e</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reimplement this function if you want a custom exception handling, e.g. restart the thread. By default this function does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>: The exception that was caught </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00134">134</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="aa264337db95c2348e4396ccbce713ff8" name="aa264337db95c2348e4396ccbce713ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa264337db95c2348e4396ccbce713ff8">&#9670;&#160;</a></span>isThreadRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SimpleThreadHandler::isThreadRunning </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Boolean telling whether the thread is running </dd></dl>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00168">168</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a1e798c941ef6b6cc223c155334c59542" name="a1e798c941ef6b6cc223c155334c59542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e798c941ef6b6cc223c155334c59542">&#9670;&#160;</a></span>msleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleThreadHandler::msleep </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>milliseconds</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call this function from the thread if you want to let it stay in an idle state without consuming CPU time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>: Waiting time (double) in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00159">159</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="ae3190fa086d45d5325bbffabf0be5097" name="ae3190fa086d45d5325bbffabf0be5097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3190fa086d45d5325bbffabf0be5097">&#9670;&#160;</a></span>setCancelThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleThreadHandler::setCancelThread </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>b</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a thread for termination. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00139">139</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a2b9a9567f74a046f9a76ff974ca3fa5e" name="a2b9a9567f74a046f9a76ff974ca3fa5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9a9567f74a046f9a76ff974ca3fa5e">&#9670;&#160;</a></span>setThreadName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SimpleThreadHandler::setThreadName </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>With this function it is possible to rename the thread. This is particularly useful for debugging since the Qt-creator shows the thread name in a list. However, there is no platform-independent implementation of thread name handling. Therefore, this function works only on Linux using the underlying pthread implementation. The function has to be called within the thread itself, i.e., in the worker function. It works only in debug mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>: name of the thread </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00100">100</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a0832e65ca495778cf58dd039985fb69c" name="a0832e65ca495778cf58dd039985fb69c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0832e65ca495778cf58dd039985fb69c">&#9670;&#160;</a></span>simpleWorkerFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleThreadHandler::simpleWorkerFunction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function calls the abstract workerFunction of the implementation. It also catches its exceptions- </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8cpp_source.html#l00042">42</a> of file <a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a>.</p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_simple_thread_handler_a0832e65ca495778cf58dd039985fb69c_cgraph.png" border="0" usemap="#aclass_simple_thread_handler_a0832e65ca495778cf58dd039985fb69c_cgraph" alt=""/></div>
<map name="aclass_simple_thread_handler_a0832e65ca495778cf58dd039985fb69c_cgraph" id="aclass_simple_thread_handler_a0832e65ca495778cf58dd039985fb69c_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,180,103"/>
<area shape="rect" href="class_simple_thread_handler.html#a773070afe77138730078e87096784f1b" title=" " alt="" coords="228,5,391,45"/>
<area shape="poly" title=" " alt="" coords="168,60,220,46,221,51,170,65"/>
<area shape="rect" href="class_ept_exception.html#abce4d06a67b4e28198008f479ff574db" title="Override std::exception::what." alt="" coords="236,70,383,95"/>
<area shape="poly" title=" " alt="" coords="180,80,222,80,222,85,180,85"/>
<area shape="rect" href="class_simple_thread_handler.html#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread." alt="" coords="228,120,391,160"/>
<area shape="poly" title=" " alt="" coords="170,100,221,114,220,119,168,105"/>
</map>
</div>

</div>
</div>
<a id="acd459deb405647c580000490aaa71a0d" name="acd459deb405647c580000490aaa71a0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd459deb405647c580000490aaa71a0d">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleThreadHandler::start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the thread is already running register it for termination and wait until it has terminated. Then restart a new thread. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8cpp_source.html#l00031">31</a> of file <a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_simple_thread_handler_acd459deb405647c580000490aaa71a0d_cgraph.png" border="0" usemap="#aclass_simple_thread_handler_acd459deb405647c580000490aaa71a0d_cgraph" alt=""/></div>
<map name="aclass_simple_thread_handler_acd459deb405647c580000490aaa71a0d_cgraph" id="aclass_simple_thread_handler_acd459deb405647c580000490aaa71a0d_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,168,103"/>
<area shape="rect" href="class_simple_thread_handler.html#ae3190fa086d45d5325bbffabf0be5097" title="Register a thread for termination." alt="" coords="439,5,601,45"/>
<area shape="poly" title=" " alt="" coords="159,60,216,48,324,34,425,27,425,32,324,40,216,53,160,65"/>
<area shape="rect" href="class_simple_thread_handler.html#a0832e65ca495778cf58dd039985fb69c" title=" " alt="" coords="216,127,391,167"/>
<area shape="poly" title=" " alt="" coords="156,100,223,120,222,125,154,105"/>
<area shape="rect" href="class_simple_thread_handler.html#a9c7f6061a6b567b59ca9847180544d70" title=" " alt="" coords="222,63,385,103"/>
<area shape="poly" title=" " alt="" coords="168,80,208,80,208,85,168,85"/>
<area shape="rect" href="class_simple_thread_handler.html#a773070afe77138730078e87096784f1b" title=" " alt="" coords="439,69,601,109"/>
<area shape="poly" title=" " alt="" coords="379,124,430,110,432,115,380,129"/>
<area shape="rect" href="class_ept_exception.html#abce4d06a67b4e28198008f479ff574db" title="Override std::exception::what." alt="" coords="447,134,593,159"/>
<area shape="poly" title=" " alt="" coords="391,144,433,144,433,149,391,149"/>
<area shape="rect" href="class_simple_thread_handler.html#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread." alt="" coords="439,184,601,224"/>
<area shape="poly" title=" " alt="" coords="380,164,432,178,430,183,379,169"/>
<area shape="poly" title=" " alt="" coords="379,60,430,46,432,51,380,65"/>
</map>
</div>

</div>
</div>
<a id="a9c7f6061a6b567b59ca9847180544d70" name="a9c7f6061a6b567b59ca9847180544d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7f6061a6b567b59ca9847180544d70">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleThreadHandler::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mark the thread for cancellation. This function waits for termination of the thread, i.e. it blocks until the thread has been shut down. This waiting time will depend on the implementation of the workerFunction. </p>

<p>Reimplemented in <a class="el" href="class_signal_analyzer.html#a355d83fd41fbf9dbc1eadb325948ac7c">SignalAnalyzer</a>.</p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8cpp_source.html#l00037">37</a> of file <a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a>.</p>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_simple_thread_handler_a9c7f6061a6b567b59ca9847180544d70_cgraph.png" border="0" usemap="#aclass_simple_thread_handler_a9c7f6061a6b567b59ca9847180544d70_cgraph" alt=""/></div>
<map name="aclass_simple_thread_handler_a9c7f6061a6b567b59ca9847180544d70_cgraph" id="aclass_simple_thread_handler_a9c7f6061a6b567b59ca9847180544d70_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,168,45"/>
<area shape="rect" href="class_simple_thread_handler.html#ae3190fa086d45d5325bbffabf0be5097" title="Register a thread for termination." alt="" coords="216,5,379,45"/>
<area shape="poly" title=" " alt="" coords="168,23,202,23,202,28,168,28"/>
</map>
</div>

</div>
</div>
<a id="ac8e798b146647cf3fae4ca1e13c05e44" name="ac8e798b146647cf3fae4ca1e13c05e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e798b146647cf3fae4ca1e13c05e44">&#9670;&#160;</a></span>workerFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void SimpleThreadHandler::workerFunction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual worker function, executed within the new thread. </p>
<p>Overload this function with the code to be executed within the new thread. Make sure that it either returns by itself or when <a class="el" href="#a717c9c2053e0b6c38a75acc619132b9c" title="Find out whether a thread has been registered for termination.">cancelThread()</a> becomes true. This means that a typical implementation of the <a class="el" href="#ac8e798b146647cf3fae4ca1e13c05e44" title="Virtual worker function, executed within the new thread.">workerFunction()</a> should contain a while(not cancelThread()) loop.</p>
<p>If you want the thread to stay idle call msleep. </p>

<p>Implemented in <a class="el" href="class_algorithm.html#a21168e87657a8fc5050edc0b63fd3986">Algorithm</a>, <a class="el" href="class_key_recognizer.html#a8eb84f9562650da30230fb42fee17ac6">KeyRecognizer</a>, <a class="el" href="class_signal_analyzer.html#a1fd3d5c4d3d3a4b4f1749c19fba2d127">SignalAnalyzer</a>, and <a class="el" href="class_waveform_generator.html#a86b3c9768e075f4dbb5ace977377bee9">WaveformGenerator</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa2a57769e47b8ed8d5df7077de07fb62" name="aa2a57769e47b8ed8d5df7077de07fb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a57769e47b8ed8d5df7077de07fb62">&#9670;&#160;</a></span>mCancelThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SimpleThreadHandler::mCancelThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel flag. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00181">181</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="ab5834bdbffe53d46f56ad7ce8e6823af" name="ab5834bdbffe53d46f56ad7ce8e6823af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5834bdbffe53d46f56ad7ce8e6823af">&#9670;&#160;</a></span>mLockMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex SimpleThreadHandler::mLockMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex protecting the cancel flag. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00184">184</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a6d6404556ea044b2bfbc616a195954ee" name="a6d6404556ea044b2bfbc616a195954ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6404556ea044b2bfbc616a195954ee">&#9670;&#160;</a></span>mRunning</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; SimpleThreadHandler::mRunning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the thread running. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00182">182</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<a id="a66069bbfd946f6ab416d08a1f2ef41f6" name="a66069bbfd946f6ab416d08a1f2ef41f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66069bbfd946f6ab416d08a1f2ef41f6">&#9670;&#160;</a></span>mThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread SimpleThreadHandler::mThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Local thread member variable. </p>

<p class="definition">Definition at line <a class="el" href="simplethreadhandler_8h_source.html#l00183">183</a> of file <a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/common/core/system/<a class="el" href="simplethreadhandler_8h_source.html">simplethreadhandler.h</a></li>
<li>src/common/core/system/<a class="el" href="simplethreadhandler_8cpp_source.html">simplethreadhandler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_simple_thread_handler.html">SimpleThreadHandler</a></li>
    <li class="footer">Generated on Wed Sep 11 2024 07:44:56 for Entropy Piano Tuner by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>

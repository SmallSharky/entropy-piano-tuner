<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Entropy Piano Tuner: FFTAnalyzer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Entropy Piano Tuner<span id="projectnumber">&#160;1.1.2  (documentation not yet complete)</span>
   </div>
   <div id="projectbrief">An open-source experimental software for piano tuning by entropy minimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_f_f_t_analyzer.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_f_f_t_analyzer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FFTAnalyzer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Module performing the final analysis of the Fourier transform.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for FFTAnalyzer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer__coll__graph.png" border="0" usemap="#a_f_f_t_analyzer_coll__map" alt="Collaboration graph"/></div>
<map name="a_f_f_t_analyzer_coll__map" id="a_f_f_t_analyzer_coll__map">
<area shape="rect" title="Module performing the final analysis of the Fourier transform." alt="" coords="122,168,223,193"/>
<area shape="rect" href="class_f_f_t___implementation.html" title="Thread&#45;safe implementation of fftw3." alt="" coords="5,80,161,105"/>
<area shape="poly" title=" " alt="" coords="107,113,162,166,158,169,103,117"/>
<area shape="rect" href="class_f_f_t_adapter.html" title="Abstract base class for handling fast Fourier transforms." alt="" coords="36,5,131,31"/>
<area shape="poly" title=" " alt="" coords="86,45,86,80,81,80,81,45"/>
<area shape="rect" href="class_key.html" title="Class describing a single piano key." alt="" coords="185,80,232,105"/>
<area shape="poly" title=" " alt="" coords="201,119,180,168,175,166,196,117"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abd085e59b9d2a1cda8297acef75eb6cc" id="r_abd085e59b9d2a1cda8297acef75eb6cc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> = <a class="el" href="class_key.html#aee7190ad4fb14190621f28617a11ea48">Key::SpectrumType</a></td></tr>
<tr class="memdesc:abd085e59b9d2a1cda8297acef75eb6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a log spectrum.  <br /></td></tr>
<tr class="separator:abd085e59b9d2a1cda8297acef75eb6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc11967a1d58ee56c7c330b10d08ed9" id="r_a9bc11967a1d58ee56c7c330b10d08ed9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">PeakListType</a> = <a class="el" href="class_key.html#a5c51d749ba3310a52823acc64adb3e76">Key::PeakListType</a></td></tr>
<tr class="memdesc:a9bc11967a1d58ee56c7c330b10d08ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for a peak map.  <br /></td></tr>
<tr class="separator:a9bc11967a1d58ee56c7c330b10d08ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7dea7a5d3159965bec8728b6a6aa858" id="r_ad7dea7a5d3159965bec8728b6a6aa858"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7dea7a5d3159965bec8728b6a6aa858">FFTAnalyzer</a> ()</td></tr>
<tr class="memdesc:ad7dea7a5d3159965bec8728b6a6aa858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:ad7dea7a5d3159965bec8728b6a6aa858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8585c89a2c50449db28ec4e79dfbb17" id="r_ae8585c89a2c50449db28ec4e79dfbb17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8585c89a2c50449db28ec4e79dfbb17">~FFTAnalyzer</a> ()</td></tr>
<tr class="memdesc:ae8585c89a2c50449db28ec4e79dfbb17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty destructor.  <br /></td></tr>
<tr class="separator:ae8585c89a2c50449db28ec4e79dfbb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1cb3253493d9cc292312cd2536b8939" id="r_af1cb3253493d9cc292312cd2536b8939"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="fftanalyzererrorcodes_8h.html#a8a40cbd6202a23403b3efed1d393c52c">FFTAnalyzerErrorTypes</a>, std::shared_ptr&lt; <a class="el" href="class_key.html">Key</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1cb3253493d9cc292312cd2536b8939">analyse</a> (const <a class="el" href="class_piano.html">Piano</a> *piano, <a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> finalFFT, int finalKey)</td></tr>
<tr class="memdesc:af1cb3253493d9cc292312cd2536b8939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main analyzing function.  <br /></td></tr>
<tr class="separator:af1cb3253493d9cc292312cd2536b8939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbc009de5b7c9e3679f768c28edbb53" id="r_aecbc009de5b7c9e3679f768c28edbb53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fftanalyzererrorcodes_8h.html#a2d9717114d7249bef2041efcf077338e">FrequencyDetectionResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecbc009de5b7c9e3679f768c28edbb53">detectFrequencyOfKnownKey</a> (<a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> finalFFT, const <a class="el" href="class_piano.html">Piano</a> *piano, const <a class="el" href="class_key.html">Key</a> &amp;key, int keyIndex)</td></tr>
<tr class="memdesc:aecbc009de5b7c9e3679f768c28edbb53"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#aecbc009de5b7c9e3679f768c28edbb53" title="FFTAnalyzer::detectFrequencyOfKnownKey.">FFTAnalyzer::detectFrequencyOfKnownKey</a>.  <br /></td></tr>
<tr class="separator:aecbc009de5b7c9e3679f768c28edbb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a988d1654fe1b1f2586aeaa14858b5a7f" id="r_a988d1654fe1b1f2586aeaa14858b5a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a988d1654fe1b1f2586aeaa14858b5a7f">constructLogBinnedSpectrum</a> (<a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> fftData, <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;spectrum)</td></tr>
<tr class="memdesc:a988d1654fe1b1f2586aeaa14858b5a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct logarithmically binned spectrum from the mFinalFFT.  <br /></td></tr>
<tr class="separator:a988d1654fe1b1f2586aeaa14858b5a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8e87895a26d4a773934bafe168e830" id="r_add8e87895a26d4a773934bafe168e830"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add8e87895a26d4a773934bafe168e830">constructKernel</a> (const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;originalSpectrum)</td></tr>
<tr class="separator:add8e87895a26d4a773934bafe168e830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558c07bfcc9863a41bddc5773bfd8a26" id="r_a558c07bfcc9863a41bddc5773bfd8a26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fftanalyzererrorcodes_8h.html#a2da3027cc7890f2778600d0ffb40cd5e">TuningDeviationCurveType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a558c07bfcc9863a41bddc5773bfd8a26">computeTuningDeviation</a> (const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;kernel, const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;signal, int searchSize)</td></tr>
<tr class="separator:a558c07bfcc9863a41bddc5773bfd8a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8784aef7f4f682be57f8fc1d8908142a" id="r_a8784aef7f4f682be57f8fc1d8908142a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8784aef7f4f682be57f8fc1d8908142a">locatePeak</a> (const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;spectrum, int m, int width)</td></tr>
<tr class="separator:a8784aef7f4f682be57f8fc1d8908142a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1fcafcd39179e0d9fb119e97980bfb" id="r_a3a1fcafcd39179e0d9fb119e97980bfb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a1fcafcd39179e0d9fb119e97980bfb">interpolatePeakPosition</a> (const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;spectrum, int m, int width)</td></tr>
<tr class="separator:a3a1fcafcd39179e0d9fb119e97980bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8155ed47889f562e2a89573e7dea82" id="r_aef8155ed47889f562e2a89573e7dea82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef8155ed47889f562e2a89573e7dea82">findNearestKey</a> (double f, double conertPitch, int numberOfKeys, int keyNumberOfA)</td></tr>
<tr class="memdesc:aef8155ed47889f562e2a89573e7dea82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the number of the nearest key.  <br /></td></tr>
<tr class="separator:aef8155ed47889f562e2a89573e7dea82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0adf05ab04d76cc791655e203bde89" id="r_acd0adf05ab04d76cc791655e203bde89"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd0adf05ab04d76cc791655e203bde89">estimateFrequency</a> (int keynumber, double concertPitch, int keyNumberOfA)</td></tr>
<tr class="memdesc:acd0adf05ab04d76cc791655e203bde89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the frequency for a given keynumber.  <br /></td></tr>
<tr class="separator:acd0adf05ab04d76cc791655e203bde89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89745d08c292acaaf696f9cb60cded49" id="r_a89745d08c292acaaf696f9cb60cded49"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89745d08c292acaaf696f9cb60cded49">findAccuratePeakFrequency</a> (<a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> fftData, double f, int cents=5)</td></tr>
<tr class="memdesc:a89745d08c292acaaf696f9cb60cded49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the accurate frequency of a spectral peak in the original FFT.  <br /></td></tr>
<tr class="separator:a89745d08c292acaaf696f9cb60cded49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7af638641911cd1ef15ee0d7663fff6" id="r_aa7af638641911cd1ef15ee0d7663fff6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7af638641911cd1ef15ee0d7663fff6">getExpectedInharmonicity</a> (double f)</td></tr>
<tr class="separator:aa7af638641911cd1ef15ee0d7663fff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4579c882c63db8090e581050b6d7525f" id="r_a4579c882c63db8090e581050b6d7525f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4579c882c63db8090e581050b6d7525f">estimateInharmonicity</a> (<a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> fftData, <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;spectrum, double f)</td></tr>
<tr class="memdesc:a4579c882c63db8090e581050b6d7525f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the inharmonicity B.  <br /></td></tr>
<tr class="separator:a4579c882c63db8090e581050b6d7525f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ee54c34ee520ceb555b7b575a6fbad" id="r_a55ee54c34ee520ceb555b7b575a6fbad"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55ee54c34ee520ceb555b7b575a6fbad">estimateQuality</a> ()</td></tr>
<tr class="memdesc:a55ee54c34ee520ceb555b7b575a6fbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the quality of the recorded signal.  <br /></td></tr>
<tr class="separator:a55ee54c34ee520ceb555b7b575a6fbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b82813896c2910ed0acbe683b66d0ce" id="r_a2b82813896c2910ed0acbe683b66d0ce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b82813896c2910ed0acbe683b66d0ce">estimateFrequencyShift</a> ()</td></tr>
<tr class="memdesc:a2b82813896c2910ed0acbe683b66d0ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the frequency shift.  <br /></td></tr>
<tr class="separator:a2b82813896c2910ed0acbe683b66d0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c56934918d5f21fee848f830ee39fbd" id="r_a6c56934918d5f21fee848f830ee39fbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">PeakListType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c56934918d5f21fee848f830ee39fbd">identifyPeaks</a> (<a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a> fftData, const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;spectrum, const double f, const double B)</td></tr>
<tr class="memdesc:a6c56934918d5f21fee848f830ee39fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify the peaks in the spectrum.  <br /></td></tr>
<tr class="separator:a6c56934918d5f21fee848f830ee39fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad144e9447bf3e02fb1953df0e23af60e" id="r_ad144e9447bf3e02fb1953df0e23af60e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad144e9447bf3e02fb1953df0e23af60e">Write</a> (std::string filename, <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;v)</td></tr>
<tr class="separator:ad144e9447bf3e02fb1953df0e23af60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80ad0074906bcb6251c0309226ad4b7" id="r_ac80ad0074906bcb6251c0309226ad4b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac80ad0074906bcb6251c0309226ad4b7">Write</a> (std::string filename, <a class="el" href="fftadapter_8h.html#a2a94d0acf35b74fab627df026f02daf4">FFTComplexVector</a> &amp;v)</td></tr>
<tr class="separator:ac80ad0074906bcb6251c0309226ad4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c75a15f1deab779cd5134684fa29a1a" id="r_a5c75a15f1deab779cd5134684fa29a1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c75a15f1deab779cd5134684fa29a1a">WritePeaks</a> (std::string filename, <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;v, <a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">PeakListType</a> &amp;peaks)</td></tr>
<tr class="separator:a5c75a15f1deab779cd5134684fa29a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4b04c1030c92fa33ef3f286af2a9a870" id="r_a4b04c1030c92fa33ef3f286af2a9a870"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b04c1030c92fa33ef3f286af2a9a870">NumberOfBins</a> =Key::NumberOfBins</td></tr>
<tr class="separator:a4b04c1030c92fa33ef3f286af2a9a870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5266f5b066aea33d8a364af75a0902" id="r_a0f5266f5b066aea33d8a364af75a0902"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f5266f5b066aea33d8a364af75a0902">mOptimalSuperposition</a></td></tr>
<tr class="memdesc:a0f5266f5b066aea33d8a364af75a0902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Superposition of the partials.  <br /></td></tr>
<tr class="separator:a0f5266f5b066aea33d8a364af75a0902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44166393b582d2d855071aa33d0e1b23" id="r_a44166393b582d2d855071aa33d0e1b23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_f_f_t___implementation.html">FFT_Implementation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44166393b582d2d855071aa33d0e1b23">mFFT</a></td></tr>
<tr class="memdesc:a44166393b582d2d855071aa33d0e1b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of FFT implementation.  <br /></td></tr>
<tr class="separator:a44166393b582d2d855071aa33d0e1b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c7c44be13aa219c1b7799fb30abd0b" id="r_af5c7c44be13aa219c1b7799fb30abd0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5c7c44be13aa219c1b7799fb30abd0b">mCurrentKernel</a></td></tr>
<tr class="memdesc:af5c7c44be13aa219c1b7799fb30abd0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current kernel for the key detection.  <br /></td></tr>
<tr class="separator:af5c7c44be13aa219c1b7799fb30abd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd20483939c65d31b5e245dc23b1fac" id="r_a5cd20483939c65d31b5e245dc23b1fac"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_key.html">Key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5cd20483939c65d31b5e245dc23b1fac">mCurrentKernelKey</a></td></tr>
<tr class="memdesc:a5cd20483939c65d31b5e245dc23b1fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The key of which mCurrentKernel belongs to.  <br /></td></tr>
<tr class="separator:a5cd20483939c65d31b5e245dc23b1fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module performing the final analysis of the Fourier transform. </p>
<p>After completion of the recording process, the <a class="el" href="class_signal_analyzer.html" title="Signal analyzer: Fourier transformation of the recorded audio signal.">SignalAnalyzer</a> sends the final Fourier transform via <a class="el" href="class_message_new_f_f_t_calculated.html" title="Class of a message informing that a new FFT has been calculated.">MessageNewFFTCalculated</a> with a 'ture' flag to the FFT analyzer. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00041">41</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9bc11967a1d58ee56c7c330b10d08ed9" name="a9bc11967a1d58ee56c7c330b10d08ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc11967a1d58ee56c7c330b10d08ed9">&#9670;&#160;</a></span>PeakListType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">FFTAnalyzer::PeakListType</a> = <a class="el" href="class_key.html#a5c51d749ba3310a52823acc64adb3e76">Key::PeakListType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for a peak map. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00046">46</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<a id="abd085e59b9d2a1cda8297acef75eb6cc" name="abd085e59b9d2a1cda8297acef75eb6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd085e59b9d2a1cda8297acef75eb6cc">&#9670;&#160;</a></span>SpectrumType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">FFTAnalyzer::SpectrumType</a> = <a class="el" href="class_key.html#aee7190ad4fb14190621f28617a11ea48">Key::SpectrumType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a log spectrum. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00045">45</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad7dea7a5d3159965bec8728b6a6aa858" name="ad7dea7a5d3159965bec8728b6a6aa858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7dea7a5d3159965bec8728b6a6aa858">&#9670;&#160;</a></span>FFTAnalyzer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFTAnalyzer::FFTAnalyzer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00041">41</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="ae8585c89a2c50449db28ec4e79dfbb17" name="ae8585c89a2c50449db28ec4e79dfbb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8585c89a2c50449db28ec4e79dfbb17">&#9670;&#160;</a></span>~FFTAnalyzer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FFTAnalyzer::~FFTAnalyzer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty destructor. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00049">49</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af1cb3253493d9cc292312cd2536b8939" name="af1cb3253493d9cc292312cd2536b8939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1cb3253493d9cc292312cd2536b8939">&#9670;&#160;</a></span>analyse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="fftanalyzererrorcodes_8h.html#a8a40cbd6202a23403b3efed1d393c52c">FFTAnalyzerErrorTypes</a>, std::shared_ptr&lt; <a class="el" href="class_key.html">Key</a> &gt; &gt; FFTAnalyzer::analyse </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_piano.html">Piano</a> *</td>          <td class="paramname"><span class="paramname"><em>piano</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>finalFFT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>finalKey</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main analyzing function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">piano</td><td>Pointer to the piano </td></tr>
    <tr><td class="paramname">finalFFT</td><td>Data of the final fourier transformation </td></tr>
    <tr><td class="paramname">sampling</td><td>rate the sampling rate </td></tr>
    <tr><td class="paramname">finalKey</td><td>the identified key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer of the detected key and idendified data</dd></dl>
<p>This function controls the main tasks of the <a class="el" href="class_f_f_t_analyzer.html" title="Module performing the final analysis of the Fourier transform.">FFTAnalyzer</a> and is used by the <a class="el" href="class_signal_analyzer.html" title="Signal analyzer: Fourier transformation of the recorded audio signal.">SignalAnalyzer</a> to analyze the final fft. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00062">62</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_af1cb3253493d9cc292312cd2536b8939_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_af1cb3253493d9cc292312cd2536b8939_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_af1cb3253493d9cc292312cd2536b8939_cgraph" id="aclass_f_f_t_analyzer_af1cb3253493d9cc292312cd2536b8939_cgraph">
<area shape="rect" title="Main analyzing function." alt="" coords="5,319,165,345"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a988d1654fe1b1f2586aeaa14858b5a7f" title="Construct logarithmically binned spectrum from the mFinalFFT." alt="" coords="246,240,438,280"/>
<area shape="poly" title=" " alt="" coords="131,317,256,281,257,286,132,322"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="823,269,993,294"/>
<area shape="poly" title=" " alt="" coords="96,317,144,272,176,247,212,226,293,190,360,172,430,163,518,153,641,135,694,136,760,154,800,174,837,201,890,256,887,260,833,205,797,179,758,158,693,141,641,140,519,159,430,168,361,177,295,195,215,230,179,251,147,276,100,321"/>
<area shape="rect" href="class_f_f_t_analyzer.html#acd0adf05ab04d76cc791655e203bde89" title="Estimate the frequency for a given keynumber." alt="" coords="225,119,459,145"/>
<area shape="poly" title=" " alt="" coords="90,318,107,286,133,244,168,199,212,162,242,147,244,151,215,166,172,203,137,247,111,289,95,320"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a2b82813896c2910ed0acbe683b66d0ce" title="Estimate the frequency shift." alt="" coords="225,5,459,45"/>
<area shape="poly" title=" " alt="" coords="86,319,96,269,118,198,135,159,156,121,181,86,212,55,218,50,221,55,215,59,185,89,160,124,140,162,123,200,101,271,91,320"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a4579c882c63db8090e581050b6d7525f" title="Estimate the inharmonicity B." alt="" coords="213,395,471,421"/>
<area shape="poly" title=" " alt="" coords="130,342,285,389,284,394,128,347"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a89745d08c292acaaf696f9cb60cded49" title="Find the accurate frequency of a spectral peak in the original FFT." alt="" coords="543,584,734,624"/>
<area shape="poly" title=" " alt="" coords="102,343,151,384,215,430,296,477,362,510,520,569,544,578,542,583,518,575,360,515,294,482,212,434,147,388,99,347"/>
<area shape="rect" href="class_f_f_t_analyzer.html#ad144e9447bf3e02fb1953df0e23af60e" title=" " alt="" coords="567,319,711,345"/>
<area shape="poly" title=" " alt="" coords="166,329,553,329,553,335,166,335"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a55ee54c34ee520ceb555b7b575a6fbad" title="Estimate the quality of the recorded signal." alt="" coords="235,70,449,95"/>
<area shape="poly" title=" " alt="" coords="87,318,100,276,124,218,161,156,184,128,212,105,221,99,224,103,215,109,188,132,165,159,129,220,105,278,92,320"/>
<area shape="rect" href="class_key.html#a7a8cdc37d7c13d1ce9095273f472495d" title="Convert frequency to logbin index." alt="" coords="553,699,724,725"/>
<area shape="poly" title=" " alt="" coords="89,345,93,407,110,501,125,551,148,601,177,645,215,682,238,694,271,703,355,714,450,717,540,715,540,720,450,722,354,719,269,708,236,699,212,686,173,648,143,603,120,553,105,502,88,408,84,345"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a6c56934918d5f21fee848f830ee39fbd" title="Identify the peaks in the spectrum." alt="" coords="243,647,441,673"/>
<area shape="poly" title=" " alt="" coords="95,344,139,433,174,492,215,549,265,598,313,637,310,641,261,602,211,552,170,495,134,436,90,346"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a8784aef7f4f682be57f8fc1d8908142a" title=" " alt="" coords="548,749,729,774"/>
<area shape="poly" title=" " alt="" coords="89,345,91,414,96,463,105,518,121,574,143,629,174,680,215,722,255,748,300,766,347,778,395,784,488,784,568,774,569,779,489,789,394,789,346,783,298,771,253,753,212,726,170,683,138,632,115,576,100,519,90,464,85,414,84,345"/>
<area shape="rect" href="namespace_math_tools.html#a1fe78450a9646eab1fd4e9400cf79be8" title=" " alt="" coords="521,270,757,295"/>
<area shape="poly" title=" " alt="" coords="439,265,507,270,507,275,438,270"/>
<area shape="poly" title=" " alt="" coords="438,252,589,249,759,255,829,264,828,269,758,260,589,254,438,257"/>
<area shape="rect" href="namespace_math_tools.html#a8728aa92ae92d86dae452c3287372dab" title="Normalize a distribution stored in a vector." alt="" coords="558,169,719,194"/>
<area shape="poly" title=" " alt="" coords="418,237,576,195,577,200,419,243"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="811,506,1005,531"/>
<area shape="poly" title=" " alt="" coords="741,293,760,305,781,328,790,351,796,376,809,404,847,454,885,494,881,498,843,457,804,407,791,378,784,353,776,330,757,309,738,298"/>
<area shape="rect" href="namespace_math_tools.html#a8e5a71490a2b0d116956bcb8bcefae0f" title="Compute the norm of a vector." alt="" coords="813,118,1003,143"/>
<area shape="poly" title=" " alt="" coords="706,166,826,143,827,149,707,171"/>
<area shape="rect" href="namespace_math_tools.html#a39da022a8dc5843008123ada9e0d5888" title="Determine the n&#45;th moment of a distribution stored in a vector." alt="" coords="535,14,742,39"/>
<area shape="poly" title=" " alt="" coords="460,23,522,23,522,29,460,29"/>
<area shape="poly" title=" " alt="" coords="471,415,611,433,759,461,816,479,866,498,864,503,814,484,758,467,610,438,471,421"/>
<area shape="poly" title=" " alt="" coords="355,393,423,332,517,255,602,199,605,203,520,259,426,336,359,397"/>
<area shape="rect" href="namespace_math_tools.html#a02f4832f17cb88b50599ea17a1d7d586" title="Compute the Renyi entropy of a normalized probability distribution." alt="" coords="519,369,759,394"/>
<area shape="poly" title=" " alt="" coords="471,394,505,391,506,396,471,399"/>
<area shape="poly" title=" " alt="" coords="363,419,414,459,473,511,486,528,495,543,505,557,520,570,532,577,529,581,517,574,501,560,491,546,482,532,469,515,410,463,359,423"/>
<area shape="rect" href="class_key.html#aba1127cbc42134f0556d4efb2cd309e8" title="Convert frequency to real&#45;valued logbin index." alt="" coords="809,627,1007,653"/>
<area shape="poly" title=" " alt="" coords="379,418,444,440,519,461,587,473,642,475,695,482,726,491,760,506,787,524,821,553,886,615,883,619,818,557,784,528,757,510,724,496,694,487,641,481,587,478,518,467,443,445,378,423"/>
<area shape="rect" href="class_f_f_t_analyzer.html#aa7af638641911cd1ef15ee0d7663fff6" title=" " alt="" coords="543,520,734,560"/>
<area shape="poly" title=" " alt="" coords="366,418,433,457,520,499,557,513,555,518,518,504,431,461,363,423"/>
<area shape="poly" title=" " alt="" coords="382,393,518,353,555,345,556,350,519,359,383,398"/>
<area shape="rect" href="namespace_math_tools.html#a365914f5f4cf1049e98d3f0ff0e17021" title="Compute the Shannon entropy of a normalized probability distribution." alt="" coords="807,369,1009,394"/>
<area shape="poly" title=" " alt="" coords="759,379,793,379,793,384,759,384"/>
<area shape="poly" title=" " alt="" coords="717,581,758,569,860,534,862,539,759,575,719,586"/>
<area shape="poly" title=" " alt="" coords="706,317,826,294,827,299,707,322"/>
<area shape="poly" title=" " alt="" coords="427,93,471,104,542,131,603,160,600,165,540,136,470,109,426,98"/>
<area shape="poly" title=" " alt="" coords="450,86,759,109,800,114,799,119,758,115,450,91"/>
<area shape="poly" title=" " alt="" coords="410,67,557,39,558,45,411,73"/>
<area shape="poly" title=" " alt="" coords="716,697,757,678,773,663,783,649,791,632,805,613,880,539,883,542,809,616,796,635,787,651,777,667,760,682,719,702"/>
<area shape="poly" title=" " alt="" coords="687,697,758,677,846,654,847,659,759,683,688,702"/>
<area shape="poly" title=" " alt="" coords="441,665,530,669,623,667,705,656,735,647,757,634,783,603,794,571,795,539,791,505,785,470,782,433,787,395,804,355,833,322,866,299,869,303,836,326,809,357,792,396,787,433,790,469,796,504,800,539,799,572,787,606,760,638,738,652,706,662,623,672,530,674,441,670"/>
<area shape="poly" title=" " alt="" coords="410,645,529,622,530,627,411,650"/>
<area shape="poly" title=" " alt="" coords="416,670,553,694,552,700,415,675"/>
<area shape="poly" title=" " alt="" coords="369,670,436,702,520,735,550,743,548,748,518,740,434,707,367,675"/>
<area shape="rect" href="namespace_math_tools.html#a245ada2fb161d9992f7a139bbc6f9364" title="Find the component where the vector has its maximum." alt="" coords="815,749,1001,774"/>
<area shape="poly" title=" " alt="" coords="730,759,801,759,801,764,730,764"/>
</map>
</div>

</div>
</div>
<a id="a558c07bfcc9863a41bddc5773bfd8a26" name="a558c07bfcc9863a41bddc5773bfd8a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558c07bfcc9863a41bddc5773bfd8a26">&#9670;&#160;</a></span>computeTuningDeviation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fftanalyzererrorcodes_8h.html#a2da3027cc7890f2778600d0ffb40cd5e">TuningDeviationCurveType</a> FFTAnalyzer::computeTuningDeviation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>kernel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>signal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>searchSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00317">317</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="add8e87895a26d4a773934bafe168e830" name="add8e87895a26d4a773934bafe168e830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8e87895a26d4a773934bafe168e830">&#9670;&#160;</a></span>constructKernel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">FFTAnalyzer::SpectrumType</a> FFTAnalyzer::constructKernel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>originalSpectrum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00305">305</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_add8e87895a26d4a773934bafe168e830_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_add8e87895a26d4a773934bafe168e830_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_add8e87895a26d4a773934bafe168e830_cgraph" id="aclass_f_f_t_analyzer_add8e87895a26d4a773934bafe168e830_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,216,38"/>
<area shape="rect" href="class_f_f_t___implementation.html#abedd9b477e9f25722566a753d4eaaeed" title="Foward FFT, mapping a real vector with size N to a complex one with size N/2+1." alt="" coords="264,5,420,45"/>
<area shape="poly" title=" " alt="" coords="216,23,250,23,250,28,216,28"/>
<area shape="rect" href="class_f_f_t___implementation.html#ae3cd5e779f634462731886c16886a27d" title="Construct a new plan for the FFT transformation if necessary." alt="" coords="468,5,624,45"/>
<area shape="poly" title=" " alt="" coords="420,23,454,23,454,28,420,28"/>
</map>
</div>

</div>
</div>
<a id="a988d1654fe1b1f2586aeaa14858b5a7f" name="a988d1654fe1b1f2586aeaa14858b5a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988d1654fe1b1f2586aeaa14858b5a7f">&#9670;&#160;</a></span>constructLogBinnedSpectrum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFTAnalyzer::constructLogBinnedSpectrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>fftData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>spectrum</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct logarithmically binned spectrum from the mFinalFFT. </p>
<p>The FFT analysis yields a Fourier transform with an index which is linear in the frequency. For the tuning process, however, we need a spectrum which is logarithmic in the frequency. Only then it is possible to tune the key by simply shifting the index of the spectrum. This function transforms the incoming FFT into a logarithmically binned spectrum. The dimension NumberOfBins is copied from the constant in class <a class="el" href="class_key.html" title="Class describing a single piano key.">Key</a>. The actual map between the indices can be found in <a class="el" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz.">Key::IndexToFrequency</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fftData</td><td>Data of the fourier transform </td></tr>
    <tr><td class="paramname">spectrum</td><td>Vector holding the logarithmically binned spectrum. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00296">296</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a988d1654fe1b1f2586aeaa14858b5a7f_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a988d1654fe1b1f2586aeaa14858b5a7f_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a988d1654fe1b1f2586aeaa14858b5a7f_cgraph" id="aclass_f_f_t_analyzer_a988d1654fe1b1f2586aeaa14858b5a7f_cgraph">
<area shape="rect" title="Construct logarithmically binned spectrum from the mFinalFFT." alt="" coords="5,47,197,87"/>
<area shape="rect" href="namespace_math_tools.html#a1fe78450a9646eab1fd4e9400cf79be8" title=" " alt="" coords="245,5,481,31"/>
<area shape="poly" title=" " alt="" coords="197,47,281,31,282,36,198,52"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="278,55,449,80"/>
<area shape="poly" title=" " alt="" coords="197,65,264,65,264,70,197,70"/>
<area shape="rect" href="namespace_math_tools.html#a8728aa92ae92d86dae452c3287372dab" title="Normalize a distribution stored in a vector." alt="" coords="283,104,444,129"/>
<area shape="poly" title=" " alt="" coords="198,83,282,99,281,104,197,88"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="529,5,723,31"/>
<area shape="poly" title=" " alt="" coords="481,15,515,15,515,21,481,21"/>
<area shape="rect" href="namespace_math_tools.html#a8e5a71490a2b0d116956bcb8bcefae0f" title="Compute the norm of a vector." alt="" coords="531,104,721,129"/>
<area shape="poly" title=" " alt="" coords="444,114,518,114,518,119,444,119"/>
</map>
</div>

</div>
</div>
<a id="aecbc009de5b7c9e3679f768c28edbb53" name="aecbc009de5b7c9e3679f768c28edbb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecbc009de5b7c9e3679f768c28edbb53">&#9670;&#160;</a></span>detectFrequencyOfKnownKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fftanalyzererrorcodes_8h.html#a2d9717114d7249bef2041efcf077338e">FrequencyDetectionResult</a> FFTAnalyzer::detectFrequencyOfKnownKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>finalFFT</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_piano.html">Piano</a> *</td>          <td class="paramname"><span class="paramname"><em>piano</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_key.html">Key</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keyIndex</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="#aecbc009de5b7c9e3679f768c28edbb53" title="FFTAnalyzer::detectFrequencyOfKnownKey.">FFTAnalyzer::detectFrequencyOfKnownKey</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finalFFT</td><td></td></tr>
    <tr><td class="paramname">piano</td><td></td></tr>
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">keyIndex</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00172">172</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_aecbc009de5b7c9e3679f768c28edbb53_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_aecbc009de5b7c9e3679f768c28edbb53_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_aecbc009de5b7c9e3679f768c28edbb53_cgraph" id="aclass_f_f_t_analyzer_aecbc009de5b7c9e3679f768c28edbb53_cgraph">
<area shape="rect" title="FFTAnalyzer::detectFrequencyOfKnownKey." alt="" coords="5,312,223,352"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a558c07bfcc9863a41bddc5773bfd8a26" title=" " alt="" coords="299,40,507,80"/>
<area shape="poly" title=" " alt="" coords="120,311,139,265,170,205,213,143,240,114,269,90,285,80,288,85,272,94,243,118,218,146,175,208,144,267,125,313"/>
<area shape="rect" href="class_f_f_t_analyzer.html#add8e87895a26d4a773934bafe168e830" title=" " alt="" coords="298,105,509,130"/>
<area shape="poly" title=" " alt="" coords="123,310,145,273,178,226,219,179,269,140,285,133,287,137,272,145,223,183,182,230,150,276,128,313"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a988d1654fe1b1f2586aeaa14858b5a7f" title="Construct logarithmically binned spectrum from the mFinalFFT." alt="" coords="307,155,499,195"/>
<area shape="poly" title=" " alt="" coords="135,310,193,261,230,234,269,211,303,197,305,202,272,216,233,239,196,265,138,314"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="868,194,1061,219"/>
<area shape="poly" title=" " alt="" coords="147,310,203,281,270,256,383,237,540,223,854,207,854,213,540,229,384,243,271,261,205,286,150,314"/>
<area shape="rect" href="namespace_math_tools.html#a245ada2fb161d9992f7a139bbc6f9364" title="Find the component where the vector has its maximum." alt="" coords="310,270,497,295"/>
<area shape="poly" title=" " alt="" coords="222,311,314,295,315,300,223,316"/>
<area shape="rect" href="class_key.html#aba1127cbc42134f0556d4efb2cd309e8" title="Convert frequency to real&#45;valued logbin index." alt="" coords="304,319,503,345"/>
<area shape="poly" title=" " alt="" coords="223,329,290,329,290,335,223,335"/>
<area shape="rect" href="class_key.html#ad7ede374bc0079ab85d316f5d6273ffa" title="Get computed frequency." alt="" coords="299,369,507,394"/>
<area shape="poly" title=" " alt="" coords="223,348,315,364,314,369,222,353"/>
<area shape="rect" href="class_key.html#ab8d373738c759f93e0e3f13cf336561b" title="Get recorded frequency." alt="" coords="302,418,505,443"/>
<area shape="poly" title=" " alt="" coords="152,350,207,378,272,404,302,412,300,418,270,409,205,383,149,355"/>
<area shape="rect" href="class_key.html#ab062601c0f20eb3003104dbf7a0e28e2" title="Get a read&#45;only reference to mSpectrum." alt="" coords="335,467,471,493"/>
<area shape="poly" title=" " alt="" coords="136,350,193,403,231,431,272,454,323,469,321,474,270,458,228,435,190,407,132,354"/>
<area shape="rect" href="class_key.html#a3712486f8c4bbf0d590f8a054e50ea6b" title="Get recorded flag." alt="" coords="341,517,466,542"/>
<area shape="poly" title=" " alt="" coords="129,351,152,385,184,427,225,469,272,503,299,515,328,522,327,527,297,520,269,508,221,473,180,430,148,388,125,354"/>
<area shape="rect" href="namespace_math_tools.html#a3ebe18b107b21f002910fe3170c10d01" title="Computes the weighted arithmetric mean index of the given Y data." alt="" coords="271,566,536,591"/>
<area shape="poly" title=" " alt="" coords="126,351,145,394,176,450,219,506,244,531,272,552,282,558,280,563,269,557,241,535,215,510,172,453,140,397,121,353"/>
<area shape="rect" href="class_f_f_t___implementation.html#abedd9b477e9f25722566a753d4eaaeed" title="Foward FFT, mapping a real vector with size N to a complex one with size N/2+1." alt="" coords="624,5,780,45"/>
<area shape="poly" title=" " alt="" coords="497,102,535,90,549,82,558,73,583,55,610,44,612,49,585,60,562,77,552,86,537,94,499,107"/>
<area shape="rect" href="class_f_f_t___implementation.html#ae3cd5e779f634462731886c16886a27d" title="Construct a new plan for the FFT transformation if necessary." alt="" coords="887,5,1043,45"/>
<area shape="poly" title=" " alt="" coords="780,23,873,23,873,28,780,28"/>
<area shape="rect" href="namespace_math_tools.html#a1fe78450a9646eab1fd4e9400cf79be8" title=" " alt="" coords="584,169,820,194"/>
<area shape="poly" title=" " alt="" coords="500,174,570,176,570,181,499,179"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="617,70,787,95"/>
<area shape="poly" title=" " alt="" coords="498,153,535,139,558,122,583,104,603,97,605,102,585,109,561,126,537,144,500,158"/>
<area shape="rect" href="namespace_math_tools.html#a8728aa92ae92d86dae452c3287372dab" title="Normalize a distribution stored in a vector." alt="" coords="621,119,783,145"/>
<area shape="poly" title=" " alt="" coords="499,158,607,143,608,148,500,164"/>
<area shape="poly" title=" " alt="" coords="820,190,854,193,854,199,820,195"/>
<area shape="rect" href="namespace_math_tools.html#a8e5a71490a2b0d116956bcb8bcefae0f" title="Compute the norm of a vector." alt="" coords="870,119,1059,145"/>
<area shape="poly" title=" " alt="" coords="783,129,856,129,856,135,783,135"/>
</map>
</div>

</div>
</div>
<a id="acd0adf05ab04d76cc791655e203bde89" name="acd0adf05ab04d76cc791655e203bde89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd0adf05ab04d76cc791655e203bde89">&#9670;&#160;</a></span>estimateFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::estimateFrequency </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keynumber</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>concertPitch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keyNumberOfA</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimate the frequency for a given keynumber. </p>
<p>This function uses a heuristic average tuning curve to roughly estimate the frequency of a given key. This function can be seen as an inverse of findNearestKey. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keynumber</td><td>: Number of the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Frequency in Hz with respect to the actual mConcertPitch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00425">425</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="a2b82813896c2910ed0acbe683b66d0ce" name="a2b82813896c2910ed0acbe683b66d0ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b82813896c2910ed0acbe683b66d0ce">&#9670;&#160;</a></span>estimateFrequencyShift()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::estimateFrequencyShift </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimate the frequency shift. </p>
<p>This function estimates how much the frequency determined by the collapse of the partials deviates from the center. In other words, it returns the deviation (in cent) of the center of mass of the peak shown in the tuning indicator. </p><dl class="section return"><dt>Returns</dt><dd>Deviation in cent </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00649">649</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a2b82813896c2910ed0acbe683b66d0ce_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a2b82813896c2910ed0acbe683b66d0ce_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a2b82813896c2910ed0acbe683b66d0ce_cgraph" id="aclass_f_f_t_analyzer_a2b82813896c2910ed0acbe683b66d0ce_cgraph">
<area shape="rect" title="Estimate the frequency shift." alt="" coords="5,5,240,45"/>
<area shape="rect" href="namespace_math_tools.html#a39da022a8dc5843008123ada9e0d5888" title="Determine the n&#45;th moment of a distribution stored in a vector." alt="" coords="288,13,495,38"/>
<area shape="poly" title=" " alt="" coords="240,23,274,23,274,28,240,28"/>
</map>
</div>

</div>
</div>
<a id="a4579c882c63db8090e581050b6d7525f" name="a4579c882c63db8090e581050b6d7525f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4579c882c63db8090e581050b6d7525f">&#9670;&#160;</a></span>estimateInharmonicity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::estimateInharmonicity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>fftData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>spectrum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>f</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimate the inharmonicity B. </p>
<p>This function estimates the inharmonicity coefficient B on the basis of the recorded data. This estimate serves as a quality and consistency check.</p>
<p>The function uses the frequency estimate that has been obtained before by determineFrequency. The frequency and inhamronicity is then optimized iteratively. This is achieved by minimizing the Renyi entropy of the collapsed peak according to the known inharmonicity formula.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>: Logarithmically binned spectrum </td></tr>
    <tr><td class="paramname">f</td><td>: Previous frequency estimate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Estimated inharmonicity coefficient B (dimensionless). </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00515">515</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a4579c882c63db8090e581050b6d7525f_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a4579c882c63db8090e581050b6d7525f_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a4579c882c63db8090e581050b6d7525f_cgraph" id="aclass_f_f_t_analyzer_a4579c882c63db8090e581050b6d7525f_cgraph">
<area shape="rect" title="Estimate the inharmonicity B." alt="" coords="5,171,263,196"/>
<area shape="rect" href="namespace_math_tools.html#a02f4832f17cb88b50599ea17a1d7d586" title="Compute the Renyi entropy of a normalized probability distribution." alt="" coords="311,5,551,31"/>
<area shape="poly" title=" " alt="" coords="145,169,211,107,258,71,310,41,332,32,334,37,312,46,261,76,214,111,149,172"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a89745d08c292acaaf696f9cb60cded49" title="Find the accurate frequency of a spectral peak in the original FFT." alt="" coords="335,55,526,95"/>
<area shape="poly" title=" " alt="" coords="165,168,310,111,351,97,353,102,312,117,167,173"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="603,92,797,117"/>
<area shape="poly" title=" " alt="" coords="222,168,310,155,591,117,592,122,311,161,223,173"/>
<area shape="rect" href="class_key.html#aba1127cbc42134f0556d4efb2cd309e8" title="Convert frequency to real&#45;valued logbin index." alt="" coords="331,171,530,196"/>
<area shape="poly" title=" " alt="" coords="263,181,318,181,318,186,263,186"/>
<area shape="rect" href="class_f_f_t_analyzer.html#aa7af638641911cd1ef15ee0d7663fff6" title=" " alt="" coords="335,221,526,261"/>
<area shape="poly" title=" " alt="" coords="201,193,322,217,321,222,200,199"/>
<area shape="rect" href="namespace_math_tools.html#a8728aa92ae92d86dae452c3287372dab" title="Normalize a distribution stored in a vector." alt="" coords="350,285,511,311"/>
<area shape="poly" title=" " alt="" coords="157,194,225,231,312,270,343,280,341,285,310,275,222,236,155,199"/>
<area shape="rect" href="class_f_f_t_analyzer.html#ad144e9447bf3e02fb1953df0e23af60e" title=" " alt="" coords="359,335,503,360"/>
<area shape="poly" title=" " alt="" coords="149,194,214,256,261,291,312,321,346,333,345,338,310,326,258,296,211,260,145,198"/>
<area shape="rect" href="namespace_math_tools.html#a365914f5f4cf1049e98d3f0ff0e17021" title="Compute the Shannon entropy of a normalized probability distribution." alt="" coords="599,5,801,31"/>
<area shape="poly" title=" " alt="" coords="551,15,585,15,585,21,551,21"/>
<area shape="poly" title=" " alt="" coords="526,83,590,90,589,95,526,88"/>
<area shape="rect" href="namespace_math_tools.html#a8e5a71490a2b0d116956bcb8bcefae0f" title="Compute the norm of a vector." alt="" coords="605,285,795,311"/>
<area shape="poly" title=" " alt="" coords="512,295,592,295,592,301,512,301"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="615,335,785,360"/>
<area shape="poly" title=" " alt="" coords="503,345,601,345,601,350,503,350"/>
</map>
</div>

</div>
</div>
<a id="a55ee54c34ee520ceb555b7b575a6fbad" name="a55ee54c34ee520ceb555b7b575a6fbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ee54c34ee520ceb555b7b575a6fbad">&#9670;&#160;</a></span>estimateQuality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::estimateQuality </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimate the quality of the recorded signal. </p>
<p>This function estimates the quality of the recorded sound. As a criterion for the quality we consider the coincidence of the partial series with the theoretical formula fn=f1*n*sqrt((1+B*n*n)/(1+B)). To this end we analyze the optimal superposition of all partials according to this formula. This is essentially what the tuning indicator shows in its window. </p><dl class="section return"><dt>Returns</dt><dd>Quality between 0 and 1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00609">609</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a55ee54c34ee520ceb555b7b575a6fbad_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a55ee54c34ee520ceb555b7b575a6fbad_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a55ee54c34ee520ceb555b7b575a6fbad_cgraph" id="aclass_f_f_t_analyzer_a55ee54c34ee520ceb555b7b575a6fbad_cgraph">
<area shape="rect" title="Estimate the quality of the recorded signal." alt="" coords="5,56,220,81"/>
<area shape="rect" href="namespace_math_tools.html#a39da022a8dc5843008123ada9e0d5888" title="Determine the n&#45;th moment of a distribution stored in a vector." alt="" coords="268,5,475,31"/>
<area shape="poly" title=" " alt="" coords="178,53,292,31,293,36,179,58"/>
<area shape="rect" href="namespace_math_tools.html#a8e5a71490a2b0d116956bcb8bcefae0f" title="Compute the norm of a vector." alt="" coords="523,81,712,107"/>
<area shape="poly" title=" " alt="" coords="221,71,509,86,509,91,220,77"/>
<area shape="rect" href="namespace_math_tools.html#a8728aa92ae92d86dae452c3287372dab" title="Normalize a distribution stored in a vector." alt="" coords="291,107,452,132"/>
<area shape="poly" title=" " alt="" coords="179,79,293,101,292,107,178,84"/>
<area shape="poly" title=" " alt="" coords="452,108,508,103,509,108,452,114"/>
</map>
</div>

</div>
</div>
<a id="a89745d08c292acaaf696f9cb60cded49" name="a89745d08c292acaaf696f9cb60cded49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89745d08c292acaaf696f9cb60cded49">&#9670;&#160;</a></span>findAccuratePeakFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::findAccuratePeakFrequency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>fftData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cents</em></span><span class="paramdefsep"> = </span><span class="paramdefval">5</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the accurate frequency of a spectral peak in the original FFT. </p>
<p>The logarithmically binned spectrum has a resolution of one cent. However, the spectral peaks are not always mapped faithfully but their location may be slightly different (due to the integration involved in the mapping). To eliminate this uncertainty, the present function looks for the maximum of the spectral line in the original FFT and returns its frequency. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>: Estimate of the frequency where the peak is supposed to be. </td></tr>
    <tr><td class="paramname">cents</td><td>: Width of the search window around f in cents. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: Frequency in Hz. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00454">454</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a89745d08c292acaaf696f9cb60cded49_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a89745d08c292acaaf696f9cb60cded49_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a89745d08c292acaaf696f9cb60cded49_cgraph" id="aclass_f_f_t_analyzer_a89745d08c292acaaf696f9cb60cded49_cgraph">
<area shape="rect" title="Find the accurate frequency of a spectral peak in the original FFT." alt="" coords="5,5,196,45"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="244,13,437,38"/>
<area shape="poly" title=" " alt="" coords="196,23,230,23,230,28,196,28"/>
</map>
</div>

</div>
</div>
<a id="aef8155ed47889f562e2a89573e7dea82" name="aef8155ed47889f562e2a89573e7dea82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8155ed47889f562e2a89573e7dea82">&#9670;&#160;</a></span>findNearestKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFTAnalyzer::findNearestKey </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>conertPitch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>numberOfKeys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keyNumberOfA</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the number of the nearest key. </p>
<p>This function uses a heuristic average tuning curve to estimate the most likely number of the key for a given frequency. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>: Frequency in Hz. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_key.html" title="Class describing a single piano key.">Key</a> number. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00399">399</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="aa7af638641911cd1ef15ee0d7663fff6" name="aa7af638641911cd1ef15ee0d7663fff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7af638641911cd1ef15ee0d7663fff6">&#9670;&#160;</a></span>getExpectedInharmonicity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::getExpectedInharmonicity </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function provides a very rough estimate of the expected inharmonicity coefficient of an average upright. It is used improve the expectation where the spectral lines should be located in the spectrum during key recognition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>: frequency in Hz </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Inharmonicity coefficient B </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00489">489</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="a6c56934918d5f21fee848f830ee39fbd" name="a6c56934918d5f21fee848f830ee39fbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c56934918d5f21fee848f830ee39fbd">&#9670;&#160;</a></span>identifyPeaks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">FFTAnalyzer::PeakListType</a> FFTAnalyzer::identifyPeaks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a594980415f64f924a9cf17fddb9a26cf">FFTDataPointer</a></td>          <td class="paramname"><span class="paramname"><em>fftData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>spectrum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double</td>          <td class="paramname"><span class="paramname"><em>B</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identify the peaks in the spectrum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fftData</td><td>: Original (non-logarithmic) FFT data </td></tr>
    <tr><td class="paramname">spectrum</td><td>: Converted (logarithmically organized) spectrum </td></tr>
    <tr><td class="paramname">f</td><td>: Supposed fundamental frequency </td></tr>
    <tr><td class="paramname">B</td><td>: Supposed inharmonicity parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of peaks </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00676">676</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a6c56934918d5f21fee848f830ee39fbd_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a6c56934918d5f21fee848f830ee39fbd_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a6c56934918d5f21fee848f830ee39fbd_cgraph" id="aclass_f_f_t_analyzer_a6c56934918d5f21fee848f830ee39fbd_cgraph">
<area shape="rect" title="Identify the peaks in the spectrum." alt="" coords="5,95,203,121"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a89745d08c292acaaf696f9cb60cded49" title="Find the accurate frequency of a spectral peak in the original FFT." alt="" coords="251,5,441,45"/>
<area shape="poly" title=" " alt="" coords="141,93,250,55,271,47,273,52,252,60,143,98"/>
<area shape="rect" href="class_key.html#a7a8cdc37d7c13d1ce9095273f472495d" title="Convert frequency to logbin index." alt="" coords="261,70,431,95"/>
<area shape="poly" title=" " alt="" coords="202,95,247,90,247,96,203,100"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="261,119,431,145"/>
<area shape="poly" title=" " alt="" coords="203,115,247,120,247,125,202,120"/>
<area shape="rect" href="class_f_f_t_analyzer.html#a8784aef7f4f682be57f8fc1d8908142a" title=" " alt="" coords="255,169,437,194"/>
<area shape="poly" title=" " alt="" coords="141,118,251,155,279,163,278,168,250,160,139,123"/>
<area shape="rect" href="namespace_math_tools.html#a7c9a732488d87f78d2b0cc78f3e047f5" title="Round a floating point number to an integer." alt="" coords="492,17,685,42"/>
<area shape="poly" title=" " alt="" coords="442,24,478,25,478,30,441,30"/>
<area shape="poly" title=" " alt="" coords="404,67,516,42,518,48,405,72"/>
<area shape="rect" href="class_key.html#aba1127cbc42134f0556d4efb2cd309e8" title="Convert frequency to real&#45;valued logbin index." alt="" coords="489,70,688,95"/>
<area shape="poly" title=" " alt="" coords="432,80,476,80,476,85,432,85"/>
<area shape="rect" href="namespace_math_tools.html#a245ada2fb161d9992f7a139bbc6f9364" title="Find the component where the vector has its maximum." alt="" coords="495,169,682,194"/>
<area shape="poly" title=" " alt="" coords="437,179,481,179,481,184,437,184"/>
</map>
</div>

</div>
</div>
<a id="a3a1fcafcd39179e0d9fb119e97980bfb" name="a3a1fcafcd39179e0d9fb119e97980bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1fcafcd39179e0d9fb119e97980bfb">&#9670;&#160;</a></span>interpolatePeakPosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double FFTAnalyzer::interpolatePeakPosition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>spectrum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Search for a local peak in the logarithmically binned spectrum. Optimize the index as a floating-point value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>: Logarithmically binned spectrum </td></tr>
    <tr><td class="paramname">m</td><td>: Spectral index </td></tr>
    <tr><td class="paramname">width</td><td>: Searching width in +/- cents </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Index where the maximum is located </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00368">368</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a3a1fcafcd39179e0d9fb119e97980bfb_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a3a1fcafcd39179e0d9fb119e97980bfb_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a3a1fcafcd39179e0d9fb119e97980bfb_cgraph" id="aclass_f_f_t_analyzer_a3a1fcafcd39179e0d9fb119e97980bfb_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,185,45"/>
<area shape="rect" href="namespace_math_tools.html#a245ada2fb161d9992f7a139bbc6f9364" title="Find the component where the vector has its maximum." alt="" coords="233,13,420,38"/>
<area shape="poly" title=" " alt="" coords="186,23,219,23,219,28,186,28"/>
</map>
</div>

</div>
</div>
<a id="a8784aef7f4f682be57f8fc1d8908142a" name="a8784aef7f4f682be57f8fc1d8908142a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8784aef7f4f682be57f8fc1d8908142a">&#9670;&#160;</a></span>locatePeak()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFTAnalyzer::locatePeak </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>spectrum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Search for a local peak in the logarithmically binned spectrum </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>: Logarithmically binned spectrum </td></tr>
    <tr><td class="paramname">m</td><td>: Spectral index </td></tr>
    <tr><td class="paramname">width</td><td>: Searching width in +/- cents </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer index where the maximum is lodated </dd></dl>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00346">346</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a8784aef7f4f682be57f8fc1d8908142a_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a8784aef7f4f682be57f8fc1d8908142a_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a8784aef7f4f682be57f8fc1d8908142a_cgraph" id="aclass_f_f_t_analyzer_a8784aef7f4f682be57f8fc1d8908142a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,187,31"/>
<area shape="rect" href="namespace_math_tools.html#a245ada2fb161d9992f7a139bbc6f9364" title="Find the component where the vector has its maximum." alt="" coords="235,5,421,31"/>
<area shape="poly" title=" " alt="" coords="187,15,221,15,221,21,187,21"/>
</map>
</div>

</div>
</div>
<a id="ac80ad0074906bcb6251c0309226ad4b7" name="ac80ad0074906bcb6251c0309226ad4b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80ad0074906bcb6251c0309226ad4b7">&#9670;&#160;</a></span>Write() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFTAnalyzer::Write </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fftadapter_8h.html#a2a94d0acf35b74fab627df026f02daf4">FFTComplexVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00730">730</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>

</div>
</div>
<a id="ad144e9447bf3e02fb1953df0e23af60e" name="ad144e9447bf3e02fb1953df0e23af60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad144e9447bf3e02fb1953df0e23af60e">&#9670;&#160;</a></span>Write() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFTAnalyzer::Write </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00713">713</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_ad144e9447bf3e02fb1953df0e23af60e_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_ad144e9447bf3e02fb1953df0e23af60e_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_ad144e9447bf3e02fb1953df0e23af60e_cgraph" id="aclass_f_f_t_analyzer_ad144e9447bf3e02fb1953df0e23af60e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,149,31"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="197,5,368,31"/>
<area shape="poly" title=" " alt="" coords="150,15,184,15,184,21,150,21"/>
</map>
</div>

</div>
</div>
<a id="a5c75a15f1deab779cd5134684fa29a1a" name="a5c75a15f1deab779cd5134684fa29a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c75a15f1deab779cd5134684fa29a1a">&#9670;&#160;</a></span>WritePeaks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFTAnalyzer::WritePeaks </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>v</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a9bc11967a1d58ee56c7c330b10d08ed9">PeakListType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>peaks</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8cpp_source.html#l00751">751</a> of file <a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a>.</p>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_f_f_t_analyzer_a5c75a15f1deab779cd5134684fa29a1a_cgraph.png" border="0" usemap="#aclass_f_f_t_analyzer_a5c75a15f1deab779cd5134684fa29a1a_cgraph" alt=""/></div>
<map name="aclass_f_f_t_analyzer_a5c75a15f1deab779cd5134684fa29a1a_cgraph" id="aclass_f_f_t_analyzer_a5c75a15f1deab779cd5134684fa29a1a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,31"/>
<area shape="rect" href="class_key.html#a696c852443621ce03bd7bc4f8a8625df" title="Convert continuous slot index to frequency in Hz." alt="" coords="236,5,407,31"/>
<area shape="poly" title=" " alt="" coords="188,15,222,15,222,21,188,21"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af5c7c44be13aa219c1b7799fb30abd0b" name="af5c7c44be13aa219c1b7799fb30abd0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c7c44be13aa219c1b7799fb30abd0b">&#9670;&#160;</a></span>mCurrentKernel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> FFTAnalyzer::mCurrentKernel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current kernel for the key detection. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00068">68</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<a id="a5cd20483939c65d31b5e245dc23b1fac" name="a5cd20483939c65d31b5e245dc23b1fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd20483939c65d31b5e245dc23b1fac">&#9670;&#160;</a></span>mCurrentKernelKey</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_key.html">Key</a>* FFTAnalyzer::mCurrentKernelKey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The key of which mCurrentKernel belongs to. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00069">69</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<a id="a44166393b582d2d855071aa33d0e1b23" name="a44166393b582d2d855071aa33d0e1b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44166393b582d2d855071aa33d0e1b23">&#9670;&#160;</a></span>mFFT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_f_f_t___implementation.html">FFT_Implementation</a> FFTAnalyzer::mFFT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instance of FFT implementation. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00067">67</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<a id="a0f5266f5b066aea33d8a364af75a0902" name="a0f5266f5b066aea33d8a364af75a0902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5266f5b066aea33d8a364af75a0902">&#9670;&#160;</a></span>mOptimalSuperposition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#abd085e59b9d2a1cda8297acef75eb6cc">SpectrumType</a> FFTAnalyzer::mOptimalSuperposition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Superposition of the partials. </p>

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00066">66</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<a id="a4b04c1030c92fa33ef3f286af2a9a870" name="a4b04c1030c92fa33ef3f286af2a9a870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b04c1030c92fa33ef3f286af2a9a870">&#9670;&#160;</a></span>NumberOfBins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int FFTAnalyzer::NumberOfBins =Key::NumberOfBins</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fftanalyzer_8h_source.html#l00064">64</a> of file <a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/common/core/analyzers/<a class="el" href="fftanalyzer_8h_source.html">fftanalyzer.h</a></li>
<li>src/common/core/analyzers/<a class="el" href="fftanalyzer_8cpp_source.html">fftanalyzer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_f_f_t_analyzer.html">FFTAnalyzer</a></li>
    <li class="footer">Generated on Wed Sep 11 2024 07:44:56 for Entropy Piano Tuner by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
